{"version":3,"sources":["6/app.js"],"names":["App","lifeDOM","document","getElementById","avatarDOM","foodButtonDOMS","getElementsByClassName","positions","bottom","left","scalex","positionIdx","position","foodData","meat","fish","fruit","water","life","avatarMoveId","undefined","lifeDecreaseId","start","update","e","food","tooltip","target","classList","contains","parentElement","id","firstElementChild","add","onanimationend","remove","Number","innerHTML","foodButtonDOM","addEventListener","feed","bind","window","requestAnimationFrame","animate","setInterval","avatarMove","lifeDecrease","length","t","style","transform","clearInterval","test","navigator","userAgent","onload"],"mappings":"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","file":"app.150dd1fd.js","sourceRoot":"../src","sourcesContent":["class App {\n  constructor() {\n    // dom\n    this.lifeDOM = document.getElementById(\"lifeCount\");\n    this.avatarDOM = document.getElementById(\"avatar\");\n    this.foodButtonDOMS = document.getElementsByClassName(\"foodButton\");\n    // data\n    this.positions = [\n      { bottom: 0, left: 50, scalex: -1 },\n      { bottom: 20, left: 100, scalex: 1 },\n      { bottom: 0, left: 150, scalex: -1 },\n      { bottom: 20, left: 200, scalex: -1 },\n      { bottom: 0, left: 200, scalex: 1 },\n      { bottom: 20, left: 200, scalex: -1 },\n      { bottom: 0, left: 150, scalex: 1 },\n      { bottom: 20, left: 100, scalex: 1 },\n    ];\n    this.positionIdx = 0;\n    this.position = this.positions[0];\n    this.foodData = {\n      meat: 1,\n      fish: 2,\n      fruit: 3,\n      water: 1,\n    };\n    this.life = 5;\n    // timeId\n    this.avatarMoveId = undefined;\n    this.lifeDecreaseId = undefined;\n    // method\n    this.start(); // init 포함\n    this.update();\n  }\n  feed(e) {\n    let food;\n    let tooltip;\n    if (e.target.classList.contains(\"tooltip\")) {\n      food = e.target.parentElement.id;\n      tooltip = e.target;\n    } else {\n      food = e.target.id;\n      tooltip = document.getElementById(food).firstElementChild;\n    }\n    tooltip.classList.add(\"fadeInOut\");\n    tooltip.onanimationend = (e) => {\n      e.target.classList.remove(\"fadeInOut\");\n      this.life += Number(this.foodData[food]);\n    };\n  }\n  start() {\n    this.lifeDOM.innerHTML = this.life;\n    for (let foodButtonDOM of this.foodButtonDOMS) {\n      foodButtonDOM.addEventListener(\"click\", this.feed.bind(this));\n      const food = foodButtonDOM.id;\n      foodButtonDOM.firstElementChild.innerHTML = `+${this.foodData[food]}`;\n    }\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n  update() {\n    this.avatarMoveId = setInterval(this.avatarMove.bind(this), 750);\n    this.lifeDecreaseId = setInterval(this.lifeDecrease.bind(this), 5000);\n  }\n  avatarMove() {\n    this.positionIdx = (this.positionIdx + 1) % this.positions.length;\n    this.position = this.positions[this.positionIdx];\n  }\n  lifeDecrease() {\n    this.life = this.life - 1;\n  }\n  animate(t) {\n    this.avatarDOM.style.bottom = this.position.bottom + \"px\";\n    this.avatarDOM.style.left = this.position.left + \"px\";\n    this.avatarDOM.style.transform = `scaleX(${this.position.scalex})`;\n    this.lifeDOM.innerHTML = this.life;\n    if (this.life > 0) {\n      window.requestAnimationFrame(this.animate.bind(this));\n    } else {\n      clearInterval(this.avatarMoveId);\n      clearInterval(this.lifeDecreaseId);\n    }\n  }\n  isMobile() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n  }\n}\n\nwindow.onload = () => {\n  const app = new App();\n};\n"]}