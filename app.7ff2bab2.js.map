{"version":3,"sources":["9/particle.js","9/app.js"],"names":["Particle","width","height","stageWidth","stageHeight","x","Math","random","y","speed","velocity","size","position1","floor","position2","angle","ctx","mappedImage","switcher","counter","movement","globalCompositeOperation","sin","cos","color","beginPath","fillStyle","arc","PI","fill","App","canvas","document","getElementById","getContext","body","clientWidth","clientHeight","isLoaded","imgPos","pixels","particlesArray","numberOfParticles","load","resizeT","undefined","image","Image","src","mawang","onload","draw","gradient1","createLinearGradient","addColorStop","setInterval","handleSwitcher","bind","drawImage","getImageData","clearRect","row","red","data","green","blue","cell","calculateRelativeBrightness","push","length","i","window","requestAnimationFrame","animate","t","globalAlpha","fillRect","update","sqrt","test","navigator","userAgent","app","console","log","isMobile"],"mappings":"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","file":"app.7ff2bab2.js","sourceRoot":"../src","sourcesContent":["export class Particle {\n  constructor(width, height) {\n    this.stageWidth = width;\n    this.stageHeight = height;\n    this.x = Math.random() * width;\n    this.y = 0;\n    this.speed = 0;\n    this.velocity = Math.random() * 0.5;\n    this.size = Math.random() * 2.5 + 0.2;\n    this.position1 = Math.floor(this.y);\n    this.position2 = Math.floor(this.x);\n    this.angle = 0;\n  }\n\n  update(ctx, mappedImage, switcher, counter) {\n    this.position1 = Math.floor(this.y);\n    this.position2 = Math.floor(this.x);\n    if (\n      mappedImage[this.position1] &&\n      mappedImage[this.position1][this.position2]\n    ) {\n      this.speed = mappedImage[this.position1][this.position2][0];\n    }\n    let movement = 2.5 - this.speed + this.velocity;\n    this.angle += this.speed / 10;\n    this.size = this.speed * 2;\n    if (switcher === 1) {\n      ctx.globalCompositeOperation = \"luminosity\";\n    } else {\n      ctx.globalCompositeOperation = \"soft-light\";\n    }\n    if (counter % 10 === 0) {\n      this.x = Math.random() * this.stageWidth;\n      //   this.y = Math.random() * this.stageHeight;\n      this.y = 0;\n    }\n\n    this.y += movement + Math.sin(this.angle) * 2;\n    this.x += movement + Math.cos(this.angle) * 2;\n    if (this.y >= this.stageHeight) {\n      this.y = 0;\n      this.x = Math.random() * this.stageWidth;\n    }\n    if (this.x >= this.stageWidth) {\n      this.x = 0;\n      this.y = Math.random() * this.stageHeight;\n    }\n  }\n\n  draw(ctx, mappedImage, color) {\n    ctx.beginPath();\n    // if (\n    //   mappedImage[this.position1] &&\n    //   mappedImage[this.position1][this.position2]\n    // ) {\n    //   ctx.fillStyle = mappedImage[this.position1][this.position2][1];\n    // }\n    ctx.fillStyle = color;\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n    ctx.fill();\n  }\n}\n","import mawang from \"./mawang.png\";\nimport { Particle } from \"./particle.js\";\n\nclass App {\n  constructor() {\n    this.canvas = document.getElementById(\"app\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.stageWidth = document.body.clientWidth;\n    this.stageHeight = document.body.clientHeight;\n    this.isLoaded = false;\n    this.imgPos = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n\n    this.pixels = [];\n    this.particlesArray = [];\n    this.mappedImage = [];\n    this.numberOfParticles = 4000;\n\n    this.switcher = 1;\n    this.counter = 0;\n\n    this.load();\n\n    this.resizeT = undefined;\n  }\n\n  handleSwitcher() {\n    this.counter++;\n    if (this.counter % 12 === 0) {\n      this.switcher *= -1;\n    }\n  }\n\n  load() {\n    this.image = new Image();\n    this.image.src = mawang;\n    this.image.onload = () => {\n      this.stageWidth = this.image.width;\n      this.stageHeight = this.image.height;\n      this.canvas.width = this.stageWidth;\n      this.canvas.height = this.stageHeight;\n\n      this.isLoaded = true;\n      this.draw();\n    };\n  }\n\n  draw() {\n    this.gradient1 = this.ctx.createLinearGradient(\n      0,\n      0,\n      this.stageWidth,\n      this.stageHeight\n    );\n    this.gradient1.addColorStop(0.2, \"pink\");\n    this.gradient1.addColorStop(0.3, \"red\");\n    this.gradient1.addColorStop(0.4, \"orange\");\n    this.gradient1.addColorStop(0.5, \"yellow\");\n    this.gradient1.addColorStop(0.6, \"green\");\n    this.gradient1.addColorStop(0.7, \"turquoise\");\n    this.gradient1.addColorStop(0.8, \"violet\");\n\n    setInterval(this.handleSwitcher.bind(this), 500);\n\n    this.ctx.drawImage(this.image, 0, 0, this.stageWidth, this.stageHeight);\n\n    this.pixels = this.ctx.getImageData(\n      0,\n      0,\n      this.stageWidth,\n      this.stageHeight\n    );\n\n    this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);\n    for (let y = 0; y < this.stageHeight; y++) {\n      let row = [];\n      for (let x = 0; x < this.stageWidth; x++) {\n        const red = this.pixels.data[y * 4 * this.stageWidth + x * 4];\n        const green = this.pixels.data[y * 4 * this.stageWidth + x * 4 + 1];\n        const blue = this.pixels.data[y * 4 * this.stageWidth + x * 4 + 2];\n        const brightness = this.calculateRelativeBrightness(red, green, blue);\n        const cell = [brightness, `rgb(${red}, ${green}, ${blue})`];\n        row.push(cell);\n      }\n      this.mappedImage.push(row);\n    }\n\n    // Particle\n    if (this.particlesArray.length === 0) {\n      for (let i = 0; i < this.numberOfParticles; i++) {\n        this.particlesArray.push(\n          new Particle(this.stageWidth, this.stageHeight)\n        );\n      }\n    }\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(t) {\n    this.ctx.globalAlpha = 0.05;\n    this.ctx.fillStyle = \"rgb(0,0,0)\";\n    this.ctx.fillRect(0, 0, this.stageWidth, this.stageHeight);\n    this.ctx.globalAlpha = 0.2;\n    for (let i = 0; i < this.particlesArray.length; i++) {\n      this.particlesArray[i].update(\n        this.ctx,\n        this.mappedImage,\n        this.switcher,\n        this.counter\n      );\n      this.ctx.globalAlpha = this.particlesArray[i].speed;\n      this.particlesArray[i].draw(this.ctx, this.mappedImage, this.gradient1);\n    }\n\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n\n  calculateRelativeBrightness(red, green, blue) {\n    return (\n      Math.sqrt(\n        red * red * 0.299 + green * green * 0.587 + blue * blue * 0.114\n      ) / 100\n    );\n  }\n\n  isMobile() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n  }\n}\n\nwindow.onload = () => {\n  const app = new App();\n  console.log(app.isMobile());\n};\n"]}