parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"d7IP":[function(require,module,exports) {
"use strict";function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function e(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dot=void 0;var s=2*Math.PI,a=.82,r=function(){function t(e,s,a,r,h,n,u){i(this,t),this.x=e,this.y=s,this.targetRadius=a,this.radius=0,this.radiusV=0,this.pixelSize=r,this.pixelSizeHalf=r/2,this.red=h,this.green=n,this.blue=u}return e(t,[{key:"animate",value:function(i){if(i.beginPath(),i.fillStyle="#000",i.fillRect(this.x-this.pixelSizeHalf,this.y-this.pixelSizeHalf,this.pixelSize,this.pixelSize),this.t+=this.speed,Math.abs(this.targetRadius-this.radius)>.1){var t=(this.targetRadius-this.radius)/2;this.radiusV+=t,this.radiusV*=a,this.radius+=this.radiusV}i.beginPath(),i.fillStyle="rgb(".concat(this.red,",").concat(this.green,",").concat(this.blue,")"),i.arc(this.x,this.y,this.radius,0,s,!1),i.fill()}},{key:"reset",value:function(){this.radius=0,this.radiusV=0}}]),t}();exports.Dot=r;
},{}],"HUYN":[function(require,module,exports) {
module.exports="/ironman.ecbe4ce4.jpg";
},{}],"JQPg":[function(require,module,exports) {
"use strict";function e(e,t,r,n){var o=r-e,s=n-t;return Math.sqrt(o*o+s*s)}function t(t,r,n,o,s){return e(t,r,n,o)<=s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.distance=e,exports.collide=t;
},{}],"VnVv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ripple=void 0;var t=require("./util");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}var a=function(){function i(){e(this,i),this.x=0,this.y=0,this.radius=0,this.maxRadius=0,this.speed=10}return s(i,[{key:"resize",value:function(t,e){this.stageWidth=t,this.stageHeight=e}},{key:"start",value:function(t,e){this.x=t,this.y=e,this.radius=0,this.maxRadius=this.getMax(t,e)}},{key:"animate",value:function(t){this.radius<this.maxRadius&&(this.radius+=this.speed)}},{key:"getMax",value:function(e,i){var s=(0,t.distance)(0,0,e,i),a=(0,t.distance)(this.stageWidth,0,e,i),n=(0,t.distance)(0,this.stageHeight,e,i),r=(0,t.distance)(this.stageWidth,this.stageHeight,e,i);return Math.max(s,a,n,r)}}]),i}();exports.Ripple=a;
},{"./util":"JQPg"}],"TRxz":[function(require,module,exports) {
"use strict";var t=require("./dot"),i=h(require("./ironman.jpg")),e=require("./ripple"),s=require("./util");function h(t){return t&&t.__esModule?t:{default:t}}function a(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function g(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}var o=function(){function h(){var t=this;a(this,h),this.canvas=document.getElementById("app"),this.ctx=this.canvas.getContext("2d"),this.pixelRatio=window.devicePixelRatio>1?2:1,this.tmpCanvas=document.createElement("canvas"),this.tmpCtx=this.tmpCanvas.getContext("2d"),this.ripple=new e.Ripple,this.resize(),this.radius=10,this.pixelSize=30,this.dots=[],this.isLoaded=!1,this.imgPos={x:0,y:0,width:0,height:0},this.image=new Image,this.image.src=i.default,this.image.onload=function(){t.isLoaded=!0,t.drawImage()},window.addEventListener("resize",this.resize.bind(this),!1),this.canvas.addEventListener("click",this.onClick.bind(this),!1),window.requestAnimationFrame(this.animate.bind(this))}return g(h,[{key:"resize",value:function(){this.stageWidth=document.body.clientWidth,this.stageHeight=document.body.clientHeight,this.canvas.width=this.stageWidth*this.pixelRatio,this.canvas.height=this.stageHeight*this.pixelRatio,this.ctx.scale(this.pixelRatio,this.pixelRatio),this.tmpCanvas.width=this.stageWidth,this.tmpCanvas.height=this.stageHeight,this.ripple.resize(this.stageWidth,this.stageHeight),this.isLoaded&&this.drawImage()}},{key:"drawImage",value:function(){var t=this.stageWidth/this.stageHeight,i=this.image.width/this.image.height;this.imgPos.width=this.stageWidth,this.imgPos.height=this.stageHeight,i>t?(this.imgPos.width=Math.round(this.image.width*(this.stageHeight/this.image.height)),this.imgPos.x=Math.round((this.stageWidth-this.imgPos.width)/2),this.imgPos.height=this.stageHeight):(this.imgPos.height=Math.round(this.image.height*(this.stageWidth/this.image.width)),this.imgPos.y=Math.round((this.stageHeight-this.imgPos.height)/2)),this.ctx.drawImage(this.image,0,0,this.image.width,this.image.height,this.imgPos.x,this.imgPos.y,this.imgPos.width,this.imgPos.height),this.tmpCtx.drawImage(this.image,0,0,this.image.width,this.image.height,this.imgPos.x,this.imgPos.y,this.imgPos.width,this.imgPos.height),this.imgData=this.tmpCtx.getImageData(0,0,this.stageWidth,this.stageHeight),this.drawDots()}},{key:"drawDots",value:function(){this.dots=[],this.columns=Math.ceil(this.stageWidth/this.pixelSize),this.rows=Math.ceil(this.stageHeight/this.pixelSize);for(var i=0;i<this.rows;i++)for(var e=(i+.5)*this.pixelSize,s=Math.max(Math.min(e,this.stageHeight),0),h=0;h<this.columns;h++){var a=(h+.5)*this.pixelSize,n=4*(Math.max(Math.min(a,this.stageWidth),0)+s*this.stageWidth),g=this.imgData.data[n+0],o=this.imgData.data[n+1],d=this.imgData.data[n+2],r=new t.Dot(a,e,this.radius,this.pixelSize,g,o,d);this.dots.push(r)}}},{key:"animate",value:function(t){this.ripple.animate(this.ctx);for(var i=0;i<this.dots.length;i++){var e=this.dots[i];(0,s.collide)(e.x,e.y,this.ripple.x,this.ripple.y,this.ripple.radius)&&e.animate(this.ctx)}window.requestAnimationFrame(this.animate.bind(this))}},{key:"onClick",value:function(t){this.ctx.clearRect(0,0,this.stageWidth,this.stageHeight),this.drawImage();for(var i=0;i<this.dots.length;i++)this.dots[i].reset();this.ripple.start(t.offsetX,t.offsetY)}},{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}]),h}();window.onload=function(){new o};
},{"./dot":"d7IP","./ironman.jpg":"HUYN","./ripple":"VnVv","./util":"JQPg"}]},{},["TRxz"], null)
//# sourceMappingURL=/app.f0f9f0bc.js.map