{"version":3,"sources":["4/dot.js","4/util.js","4/ripple.js","4/app.js"],"names":["PI2","Math","PI","BOUNCE","Dot","x","y","radius","pixelSize","red","green","blue","targetRadius","radiusV","pixelSizeHalf","ctx","beginPath","fillStyle","fillRect","t","speed","abs","accel","arc","fill","distance","x1","y1","x2","y2","sqrt","collide","Ripple","maxRadius","stageWidth","stageHeight","getMax","c1","c2","c3","c4","max","App","canvas","document","getElementById","getContext","pixelRatio","window","devicePixelRatio","tmpCanvas","createElement","tmpCtx","ripple","resize","dots","isLoaded","imgPos","width","height","image","Image","src","ironman","onload","drawImage","addEventListener","bind","onClick","requestAnimationFrame","animate","body","clientWidth","clientHeight","scale","stageRatio","imgRatio","round","imgData","getImageData","drawDots","columns","ceil","rows","i","pixelY","min","j","pixelIndex","data","dot","push","length","e","clearRect","reset","start","offsetX","offsetY","test","navigator","userAgent"],"mappings":"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","file":"app.f0f9f0bc.js","sourceRoot":"../src","sourcesContent":["const PI2 = Math.PI * 2;\nconst BOUNCE = 0.82;\n\nexport class Dot {\n  constructor(x, y, radius, pixelSize, red, green, blue) {\n    this.x = x;\n    this.y = y;\n    this.targetRadius = radius;\n    this.radius = 0;\n    this.radiusV = 0;\n    this.pixelSize = pixelSize;\n    this.pixelSizeHalf = pixelSize / 2;\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n  }\n\n  animate(ctx) {\n    ctx.beginPath();\n    ctx.fillStyle = \"#000\";\n    ctx.fillRect(\n      this.x - this.pixelSizeHalf,\n      this.y - this.pixelSizeHalf,\n      this.pixelSize,\n      this.pixelSize\n    );\n    this.t += this.speed;\n\n    /**\n     * wave를 생성하는 부분\n     * 웨이브는 진짜 웨이브를 만든다기보다 점의 움직임을\n     */\n    if (Math.abs(this.targetRadius - this.radius) > 0.1) {\n      const accel = (this.targetRadius - this.radius) / 2;\n      this.radiusV += accel;\n      this.radiusV *= BOUNCE;\n      this.radius += this.radiusV;\n    }\n\n    ctx.beginPath();\n    ctx.fillStyle = `rgb(${this.red},${this.green},${this.blue})`;\n    ctx.arc(this.x, this.y, this.radius, 0, PI2, false);\n    ctx.fill();\n  }\n\n  reset() {\n    this.radius = 0;\n    this.radiusV = 0;\n  }\n}\n","export function distance(x1, y1, x2, y2) {\n  const x = x2 - x1;\n  const y = y2 - y1;\n  return Math.sqrt(x * x + y * y);\n}\n\nexport function collide(x1, y1, x2, y2, radius) {\n  if (distance(x1, y1, x2, y2) <= radius) {\n    return true;\n  } else {\n    return false;\n  }\n}\n","import { distance } from \"./util\";\n\nexport class Ripple {\n  constructor() {\n    this.x = 0;\n    this.y = 0;\n    this.radius = 0;\n    this.maxRadius = 0;\n    this.speed = 10;\n  }\n\n  resize(stageWidth, stageHeight) {\n    this.stageWidth = stageWidth;\n    this.stageHeight = stageHeight;\n  }\n\n  start(x, y) {\n    this.x = x;\n    this.y = y;\n    this.radius = 0;\n    this.maxRadius = this.getMax(x, y);\n  }\n\n  animate(ctx) {\n    if (this.radius < this.maxRadius) {\n      this.radius += this.speed;\n    }\n\n    // ctx.beginPath();\n    // ctx.fillStyle = \"#00ff00\";\n    // ctx.arc(this.x, this.y, this.radius, Math.PI * 2, false);\n    // ctx.fill();\n  }\n\n  getMax(x, y) {\n    const c1 = distance(0, 0, x, y);\n    const c2 = distance(this.stageWidth, 0, x, y);\n    const c3 = distance(0, this.stageHeight, x, y);\n    const c4 = distance(this.stageWidth, this.stageHeight, x, y);\n\n    return Math.max(c1, c2, c3, c4);\n  }\n}\n","import { Dot } from \"./dot\";\nimport ironman from \"./ironman.jpg\";\nimport { Ripple } from \"./ripple\";\nimport { collide } from \"./util\";\n\nclass App {\n  constructor() {\n    this.canvas = document.getElementById(\"app\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.pixelRatio = window.devicePixelRatio > 1 ? 2 : 1;\n\n    this.tmpCanvas = document.createElement(\"canvas\");\n    this.tmpCtx = this.tmpCanvas.getContext(\"2d\");\n\n    this.ripple = new Ripple();\n    this.resize();\n\n    this.radius = 10;\n    this.pixelSize = 30;\n    this.dots = [];\n\n    this.isLoaded = false;\n    this.imgPos = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n\n    this.image = new Image();\n    this.image.src = ironman;\n    this.image.onload = () => {\n      this.isLoaded = true;\n      this.drawImage();\n    };\n\n    window.addEventListener(\"resize\", this.resize.bind(this), false);\n    this.canvas.addEventListener(\"click\", this.onClick.bind(this), false);\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n\n  resize() {\n    this.stageWidth = document.body.clientWidth;\n    this.stageHeight = document.body.clientHeight;\n\n    this.canvas.width = this.stageWidth * this.pixelRatio;\n    this.canvas.height = this.stageHeight * this.pixelRatio;\n    this.ctx.scale(this.pixelRatio, this.pixelRatio);\n\n    this.tmpCanvas.width = this.stageWidth;\n    this.tmpCanvas.height = this.stageHeight;\n\n    this.ripple.resize(this.stageWidth, this.stageHeight);\n\n    if (this.isLoaded) {\n      this.drawImage();\n    }\n  }\n\n  drawImage() {\n    const stageRatio = this.stageWidth / this.stageHeight;\n    const imgRatio = this.image.width / this.image.height;\n\n    this.imgPos.width = this.stageWidth;\n    this.imgPos.height = this.stageHeight;\n\n    /**\n     * 이미지의 종횡비가 캔버스의 종횡비보다 크다 => 가로가 더 길다\n     * 가로가 더 긴데 가로를 맞춘다면, 세로에 여백이 생김\n     * 근데 위 코드에서 가로 세로를 다 맞춰놨다.\n     *\n     * 1) 이미지의 종횡비 > 캔버스의 종횡비\n     * 2) 가로가 더 김\n     * 3) 캔버스에 맞췄을 때, 가로가 왜곡됨.\n     * 4) 가로를 원본 비율로 늘려주면 됨.\n     * 5) 이 때, 가로를 다시 늘려주는 것보다, 세로 조절 비율만큼 가로를 조절하는 것이 계산이 더 쉬움.\n     */\n\n    if (imgRatio > stageRatio) {\n      this.imgPos.width = Math.round(\n        this.image.width * (this.stageHeight / this.image.height)\n      );\n      this.imgPos.x = Math.round((this.stageWidth - this.imgPos.width) / 2);\n      this.imgPos.height = this.stageHeight;\n    } else {\n      this.imgPos.height = Math.round(\n        this.image.height * (this.stageWidth / this.image.width)\n      );\n      this.imgPos.y = Math.round((this.stageHeight - this.imgPos.height) / 2);\n    }\n\n    this.ctx.drawImage(\n      this.image,\n      0,\n      0,\n      this.image.width,\n      this.image.height,\n      this.imgPos.x,\n      this.imgPos.y,\n      this.imgPos.width,\n      this.imgPos.height\n    );\n\n    this.tmpCtx.drawImage(\n      this.image,\n      0,\n      0,\n      this.image.width,\n      this.image.height,\n      this.imgPos.x,\n      this.imgPos.y,\n      this.imgPos.width,\n      this.imgPos.height\n    );\n\n    this.imgData = this.tmpCtx.getImageData(\n      0,\n      0,\n      this.stageWidth,\n      this.stageHeight\n    );\n\n    this.drawDots();\n  }\n\n  drawDots() {\n    this.dots = [];\n\n    this.columns = Math.ceil(this.stageWidth / this.pixelSize);\n    this.rows = Math.ceil(this.stageHeight / this.pixelSize);\n\n    for (let i = 0; i < this.rows; i++) {\n      const y = (i + 0.5) * this.pixelSize;\n      const pixelY = Math.max(Math.min(y, this.stageHeight), 0);\n\n      for (let j = 0; j < this.columns; j++) {\n        const x = (j + 0.5) * this.pixelSize;\n        const pixelX = Math.max(Math.min(x, this.stageWidth), 0);\n\n        const pixelIndex = (pixelX + pixelY * this.stageWidth) * 4;\n        const red = this.imgData.data[pixelIndex + 0];\n        const green = this.imgData.data[pixelIndex + 1];\n        const blue = this.imgData.data[pixelIndex + 2];\n\n        const dot = new Dot(\n          x,\n          y,\n          this.radius,\n          this.pixelSize,\n          red,\n          green,\n          blue\n        );\n        this.dots.push(dot);\n      }\n    }\n  }\n\n  animate(t) {\n    // this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);\n    // this.drawImage();\n\n    this.ripple.animate(this.ctx);\n\n    for (let i = 0; i < this.dots.length; i++) {\n      const dot = this.dots[i];\n      if (\n        collide(dot.x, dot.y, this.ripple.x, this.ripple.y, this.ripple.radius)\n      ) {\n        dot.animate(this.ctx);\n      }\n    }\n\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n\n  onClick(e) {\n    this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);\n    this.drawImage();\n    for (let i = 0; i < this.dots.length; i++) {\n      this.dots[i].reset();\n    }\n    this.ripple.start(e.offsetX, e.offsetY);\n  }\n\n  isMobile() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n  }\n}\n\nwindow.onload = () => {\n  const app = new App();\n};\n"]}